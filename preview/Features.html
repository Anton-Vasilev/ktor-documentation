<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><title>Features - Help | Ktor</title><link href="/ktor-documentation/preview/app/v3/app.css" rel="stylesheet"><link rel="shortcut icon" href="https://resources.jetbrains.com/storage/ui/favicons/favicon.ico" type="image/x-icon"sizes="16x16 32x32"/><link rel="apple-touch-icon" sizes="57x57"href="https://resources.jetbrains.com/storage/ui/favicons/apple-touch-icon-57x57.png"/><link rel="apple-touch-icon" sizes="60x60"href="https://resources.jetbrains.com/storage/ui/favicons/apple-touch-icon-60x60.png"/><link rel="apple-touch-icon" sizes="72x72"href="https://resources.jetbrains.com/storage/ui/favicons/apple-touch-icon-72x72.png"/><link rel="apple-touch-icon" sizes="76x76"href="https://resources.jetbrains.com/storage/ui/favicons/apple-touch-icon-76x76.png"/><link rel="apple-touch-icon" sizes="114x114"href="https://resources.jetbrains.com/storage/ui/favicons/apple-touch-icon-114x114.png"/><link rel="apple-touch-icon" sizes="120x120"href="https://resources.jetbrains.com/storage/ui/favicons/apple-touch-icon-120x120.png"/><link rel="apple-touch-icon" sizes="144x144"href="https://resources.jetbrains.com/storage/ui/favicons/apple-touch-icon-144x144.png"/><link rel="apple-touch-icon" sizes="152x152"href="https://resources.jetbrains.com/storage/ui/favicons/apple-touch-icon-152x152.png"/><link rel="apple-touch-icon" sizes="180x180"href="https://resources.jetbrains.com/storage/ui/favicons/apple-touch-icon-180x180.png"/><link rel="mask-icon" href="https://resources.jetbrains.com/storage/ui/favicons/apple-mask-icon.svg" color="black"/><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage"content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo"content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo"content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo"content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo"content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/></head><body data-id="Features" data-main-title="Features"data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"data-breadcrumbs="${breadcrumbs}"><div class="wrapper"><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>Ktor 1.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select class="select _shortcuts" height="1" id="switch-shortcuts"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Features"id="Features.md"  >Features</h1><p id="4f2d" >As mentioned in <a href="A_Ktor_Application.md" id="4f30" >A Ktor Application</a>, a typical request/response pipeline in Ktor looks like the following:</p> <p id="4f35" ><figure><img alt="Request Response Pipeline" title="Request Response Pipeline" src="/ktor-documentation/preview/ktor-documentation/request-response-pipeline.svg" id="4f38"class="" width="556" height="81" /></figure></p> <p id="4f3e" >It starts with a request, which is routed to a specific handler, processed by our application logic, and finally responded to.</p> <section class="chapter" ><h2 id="adding-functionality-with-features" data-toc="Features#adding-functionality-with-features" >Adding functionality with Features</h2><p id="4f44" >Many applications require common functionality that is out of scope of the application logic. This could be things like serialization and content encoding, compression, headers, cookie support, etc. All of these are provided in Ktor by means of what we call <b id="4f47" class="" >Features</b>.</p> <p id="4f4a" >If we look at the previous pipeline diagram, Features sit between the request/response and the application logic:</p> <p id="4f4d" ><figure><img alt="Feature pipeline" title="Feature pipeline" src="/ktor-documentation/preview/ktor-documentation/feature-pipeline.svg" id="4f50"class="" width="706" height="161" /></figure></p> <p id="4f56" >As a request comes in:</p> <ul class="list _ul" id="4f59"   ><li class="list__item" id="4f5c" ><p>It is routed to the correct handler via the routing mechanism</p></li> <li class="list__item" id="4f5f" ><p>before being handed off to the handler, it goes through one or more Features</p></li> <li class="list__item" id="4f62" ><p>the handler (application logic) handles the request</p></li> <li class="list__item" id="4f65" ><p>before the response is sent to the client, it goes through one or more Features</p></li></ul></section><section class="chapter" ><h2 id="routing-is-a-feature" data-toc="Features#routing-is-a-feature" >Routing is a Feature</h2><p id="4f6b" >Features have been designed in a way to offer maximum flexibility, and allow them to be present in any segment of the request/response pipeline. In fact, what we've been calling <code class="code "id="4f6e"  >routing</code> until now, is nothing more than a Feature.</p> <p id="4f71" ><figure><img alt="Routing as a Feature" title="Routing as a Feature" src="/ktor-documentation/preview/ktor-documentation/feature-pipeline-routing.svg" id="4f74"class="" width="616" height="161" /></figure></p></section><section class="chapter" ><h2 id="installing-features" data-toc="Features#installing-features" >Installing Features</h2><p id="4f7d" >Features are generally configured during the initialization phase of the server using the <code class="code "id="4f80"  >install</code> function which takes a Feature as a parameter:</p> <div class="code-block"data-lang="kotlin"id="4f86"       >install(Routing)
install(Encoding)
</div> <p id="4f8a" >In addition to intercepting requests and responses, Features can have an option configuration section which is configured during this step.</p> <p id="4f8d" >For instance, when installing <a href="working_with_cookies.md" id="4f90" >Cookies</a> we can set certain parameters such as where we want Cookies to be stored, or their name:</p> <div class="code-block"data-lang="kotlin"id="4f98"       >install(Sessions) {
    cookie&lt;MyCookie&gt;(&quot;MY_COOKIE&quot;)
} 
</div></section><section class="chapter" ><h2 id="default-available-and-custom-features" data-toc="Features#default-available-and-custom-features" >Default, Available, and Custom Features</h2><p id="4f9f" >By default, Ktor does not activate any Feature, and it's up to us as developers to install the functionality our application need.</p> <p id="4fa2" >Ktor does however provide a variety of Features that ship out of the box. We can see a complete list of these either on the <a href="https://start.ktor.io" data-external="true" id="4fa5" target="_blank" rel="noopener noreferrer" >Project Generator Site</a> or in the <a href="https://plugins.jetbrains.com/plugin/10823-ktor" data-external="true" id="4faa" target="_blank" rel="noopener noreferrer" >IntelliJ IDEA Wizard</a>. In addition we can also create our own <a href="Creating_custom_features.md" id="4faf" >custom Features</a></p> <p id="4fb4" >For more information about sequencing of Features and how they intercept the request/response pipeline, see <a href="Pipelines.md" id="4fb7" >Pipeline</a> in the Advanced section of the documentation.</p></section><div class="last-modified" data-skip-index="skip">Last modified: 04 August 2020</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/ktor-documentation/preview/app/v3/app.js"></script></body></html>